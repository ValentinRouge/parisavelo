<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <link rel="stylesheet" href="style.css" />
        <link rel="manifest" href="manifest.json">
        <script src="script.js"></script>
        <title>Paris à vélo</title>

        <!-- Matomo -->
        <script type="text/javascript">
            var _paq = window._paq = window._paq || [];
            /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
            _paq.push(['trackPageView']);
            _paq.push(['enableLinkTracking']);
            (function() {
            var u="https://leverry.matomo.cloud/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '1']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.src='//cdn.matomo.cloud/leverry.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
            })();
        </script>
        <!-- End Matomo Code -->
  
    </head>
    <body>
        <h1>Paris à Vélo</h1>
        <h2 id="log_erreur">Vous êtes hors ligne, Veuillez vous connecter à internet. </h2>

        <!-- Code du service Worker (mode hors ligne)-->
        <script>
            if('serviceWorker' in navigator) {
                navigator.serviceWorker
                    .register('/sw.js', { scope: '/' })
                    .then(function(registration) {
                        console.log('Service Worker enregistré');
                    });
        
                navigator.serviceWorker
                    .ready
                    .then(function(registration) {
                        console.log('Service Worker prêt');
                    });
            }
        </script>        
    </body>	
</html>